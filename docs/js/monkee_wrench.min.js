!function(e,s){"use strict";class t{constructor(){this.ROOT=window.location.host,this.DEBUG_IMAGES=["https://matthijskamstra.github.io/monkee-z/assets/img/debug/146-500x500.jpg","https://matthijskamstra.github.io/monkee-z/assets/img/debug/500x500.jpg","https://matthijskamstra.github.io/monkee-z/assets/img/debug/1031-500x500.jpg"];s.console.info("[Monkee-Z] Wrench 🔧 - version: 0.0.2");let t=this;window.document.addEventListener("DOMContentLoaded",function(e){s.console.group("Monkee 🔧"),s.console.log('focus browser and press "m"'),s.console.log("or use "+window.location.href+"?monkeewrench"),s.console.groupEnd(),t.init()})}UrlExists(e){let t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!=t.status}isUrlValid(e,t){let s=new XMLHttpRequest;s.open("GET",e,!0);let n=this;s.onload=function(){var e;200<=s.status&&s.status<400?(e=s.responseText,console.log("src/MonkeeWrench.hx:73:","json: "+e),t.apply(n,[])):console.log("src/MonkeeWrench.hx:78:","oeps: status: "+s.status+" // json: "+s.responseText)},s.onerror=function(){console.log("src/MonkeeWrench.hx:84:","error")},s.send()}getkey(e){"m"==e.key&&(this.buildIcon(),this.replaceMissingAssets())}buildIcon(){let e=window.document.createElement("div");e.innerHTML="🔧",e.className="btn btn-outline-dark",e.title="Monkee Wrench is used",e.setAttribute("style","position: fixed;bottom: 10px;left: 10px;");let t=this;e.onclick=function(){t.replaceMissingAssets()},window.document.body.appendChild(e)}init(){let t=this;window.onkeydown=function(e){t.getkey(e)};let e=new URLSearchParams(window.location.search);null!=e.get("monkeewrench")&&(this.buildIcon(),this.replaceMissingAssets())}addImageLabel(e){let t=window.document.createElement("div");t.innerHTML="🔧 img",t.style.position="absolute",t.style.bottom="0px",t.style.right="50%",t.style.backgroundColor="yellow",t.style.fontSize="8px",t.style.padding="0px",t.style.paddingLeft="5px",t.style.paddingRight="5px",t.style.textTransform="uppercase",t.style.transform="translate(50%)",t.style.borderRadius="1px",t.style.opacity="0.5",e.parentElement.appendChild(t)}addBGImageLabel(e){let t=window.document.createElement("div");t.innerHTML="🔧 bg-img",t.style.position="absolute",t.style.bottom="0px",t.style.right="50%",t.style.backgroundColor="yellow",t.style.fontSize="8px",t.style.padding="0px",t.style.paddingLeft="5px",t.style.paddingRight="5px",t.style.textTransform="uppercase",t.style.transform="translate(50%)",t.style.borderRadius="1px",t.style.opacity="0.5",e.appendChild(t),e.style.position="relative"}replaceMissingAssets(){var t=window.document.getElementsByTagName("img");let s=0;for(var e=t.length;s<e;){let e=t[s++];var n=e.src,o=e.width,i=e.height;this.UrlExists(n)||(e.dataset.monkeeWrenchImageReplace="true",e.src=this.DEBUG_IMAGES[0],this.addImageLabel(e),null!=e.getAttribute("width")&&null!=e.getAttribute("height")&&(e.style.width=o+"px",e.style.display="block",e.style.width="500px",e.style.height="250px",e.style.objectFit="cover",e.style.height=Math.round(e.width*(i/o))+"px"))}var l=window.document.getElementsByTagName("*");let a=0;for(var r=l.length;a<r;){let e=l[a++];var d=f.replace(f.replace(f.replace(f.replace(e.style.backgroundImage,"'",""),'"',""),"url(",""),")","");""!=e.style.backgroundImage&&(e.dataset.monkeeWrenchCheck="true"),this.UrlExists(d)||(e.dataset.monkeeWrenchCheck="true",e.dataset.monkeeWrenchBgImageReplace="true",e.style.backgroundImage="url("+this.DEBUG_IMAGES[1]+")",this.addBGImageLabel(e))}var c=window.document.getElementsByTagName("video");let h=0;for(var p=c.length;h<p;){let e=c[h++];e.dataset.monkeeWrenchCheck="true";var g=e.poster;this.UrlExists(g)||(e.dataset.monkeeWrenchPosterImageReplace="true",e.poster=this.DEBUG_IMAGES[2])}var u=window.document.getElementsByTagName("a");let m=0;for(var y=u.length;m<y;){let e=u[m++];e.dataset.monkeeWrenchCheck="true";var w=e.href;let t=e.getAttribute("href");e.id;""!=t&&"#"!=t||(e.dataset.monkeeWrenchEmptyLink="true",e.innerHTML="🔧 "+e.innerHTML),!t.startsWith("/")&&-1==t.indexOf(this.ROOT)||this.UrlExists(w)||(e.dataset.monkeeWrenchDeadlink="true",e.innerHTML="❌ "+e.innerHTML)}}static main(){new t}}class f{static replace(e,t,s){return e.split(t).join(s)}}(e.MonkeeWrench=t).VERSION="0.0.2",t.DEBUG=!1,t.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);