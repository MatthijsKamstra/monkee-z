{
"version":3,
"file":"monkee_fullpage.js",
"sourceRoot":"",
"sources":["file:////Users/matthijs/Documents/GIT/monkee-z/src/MonkeeFullpage.hx","file:////Users/matthijs/Documents/GIT/monkee-z/src/App.hx","file:////usr/local/lib/haxe/std/js/_std/Std.hx","file:////usr/local/lib/haxe/std/haxe/iterators/ArrayIterator.hx","file:////usr/local/lib/haxe/std/js/Boot.hx"],
"sourcesContent":["package;\n\nimport js.Syntax;\nimport haxe.Timer;\nimport js.html.svg.Element;\nimport js.Lib;\nimport js.Browser.*;\nimport js.html.*;\n\nusing StringTools;\n\n// https://ficons.fiction.com/reference.html\nclass MonkeeFullpage {\n\t/**\n\t * 0.0.1 \tinitial (wip)\n\t */\n\tstatic inline var VERSION = '0.0.1';\n\n\tvar DEBUG = #if debug true #else false #end;\n\n\tvar colors = [\n\t\t'#7fdbff', '#39cccc', '#3d9970', '#2ecc40', '#01ff70', '#ffdc00', '#ff851b', '#ff4136', '#f012be', '#b10dc9', '#85144b', '#ffffff', '#dddddd',\n\t\t'#aaaaaa', '#111111', '#001f3f', '#0074d9',\n\t];\n\n\tvar linkArray = [];\n\tvar isVertical = true;\n\tvar slideHeight:Int = 0;\n\tvar scrolltracker = document.getElementById('js-scroll-tracker');\n\n\tvar currentPos = 0.0;\n\tvar previousPos = 0.0;\n\tvar dirPos = 0;\n\tvar timer = null;\n\tvar arr:Array<SlideObj> = [];\n\n\tvar isAutoScroll = false;\n\n\tpublic function new() {\n\t\tconsole.info(App.callIn('Fullpage ${utils.Emoji.monkeeFullpage}', VERSION));\n\n\t\tdocument.addEventListener('DOMContentLoaded', (event) -> {\n\t\t\tsetupStyle();\n\t\t\tinit();\n\t\t\t// initToggle();\n\t\t\t// Timer.delay(function() {\n\t\t\t// \tgetData();\n\t\t\t// }, 1000);\n\t\t});\n\t}\n\n\tfunction getData() {\n\t\tvar ul:Element = cast document.querySelector('[monkee-fullpage-slides]');\n\t\tul.classList.add('monkee-fullpage-list');\n\n\t\t// slides\n\t\tvar lis = ul.getElementsByTagName('li');\n\t\tslideHeight = Math.floor(lis[0].scrollHeight);\n\n\t\tarr = [];\n\t\t// set up break points slides\n\t\tfor (i in 0...lis.length) {\n\t\t\t// slide\n\t\t\tvar li:LIElement = cast lis[i];\n\t\t\tarr.push({\n\t\t\t\tel: li,\n\t\t\t\tid: li.id,\n\t\t\t\tstart: Math.floor((i * slideHeight)),\n\t\t\t\tmiddle: Math.floor((i * slideHeight) + (slideHeight * 0.5)),\n\t\t\t\tend: Math.floor((i * slideHeight) + (slideHeight * 1)),\n\t\t\t});\n\t\t}\n\t\tconsole.warn(arr);\n\t}\n\n\tfunction init() {\n\t\tvar ul:Element = cast document.querySelector('[monkee-fullpage-slides]');\n\t\tul.classList.add('monkee-fullpage-list');\n\t\tul.onscroll = onScrollHandler;\n\n\t\t// slides\n\t\tvar lis = ul.getElementsByTagName('li');\n\t\tfor (i in 0...lis.length) {\n\t\t\t// slide\n\t\t\tvar li = lis[i];\n\n\t\t\tif (i == 0) {\n\t\t\t\t// only listen to the first element (the rest has the same size)\n\t\t\t\tvar resizeObserver = Syntax.construct('ResizeObserver', () -> {\n\t\t\t\t\t// console.log(\"The element was resized\");\n\t\t\t\t\tgetData();\n\t\t\t\t});\n\t\t\t\tresizeObserver.observe(li);\n\t\t\t}\n\n\t\t\t// Syntax.construct('foo', 'app');\n\t\t\t// styling\n\t\t\tli.classList.add('monkee-fullpage-slide');\n\t\t\tif (DEBUG)\n\t\t\t\tli.setAttribute('style', 'background-color: ${colors[i]}');\n\t\t}\n\n\t\tvar links = document.getElementsByTagName('a');\n\t\tvar first = false;\n\t\tfor (i in 0...links.length) {\n\t\t\tvar link:LinkElement = cast links[i];\n\t\t\t// trace(link.getAttribute('href').charAt(0));\n\t\t\tif (link.getAttribute('href').charAt(0) == '#' && link.getAttribute('href').length > 1) {\n\t\t\t\tif (first == false) {\n\t\t\t\t\tlink.classList.add('active');\n\t\t\t\t}\n\t\t\t\t// trace(\"link: \" + link.getAttribute('href'));\n\t\t\t\t// console.log('<li id=\"${link.getAttribute('href').replace('#', '')}\">${link.getAttribute('href')}</li>');\n\t\t\t\tlinkArray.push(link);\n\n\t\t\t\tlink.onclick = onclickHandler;\n\t\t\t\tfirst = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onScrollStop() {\n\t\tconsole.group('stopped scrolling');\n\t\t// isAutoScroll = !isAutoScroll;\n\n\t\tvar id:String = '';\n\n\t\tfor (i in 0...arr.length) {\n\t\t\tvar slideObj:SlideObj = arr[i];\n\t\t\tif (currentPos >= slideObj.middle) {\n\t\t\t\tconsole.log('dirPos: ${dirPos} ');\n\t\t\t\tconsole.log('currentPos: ${currentPos} ');\n\t\t\t\tvar prevKey = i - 1;\n\t\t\t\tvar nextKey = i + 1;\n\t\t\t\tif (prevKey < 0)\n\t\t\t\t\tprevKey = 0;\n\t\t\t\tif (nextKey > arr.length)\n\t\t\t\t\tnextKey = arr.length;\n\n\t\t\t\tconsole.log('prevKey: ${prevKey} // ${arr[prevKey]]}');\n\t\t\t\tconsole.log('nextKey: ${nextKey} // ${arr[nextKey]}');\n\t\t\t\tconsole.log('>> scroll to');\n\t\t\t\tif (dirPos > 0) {\n\t\t\t\t\tconsole.log('next-id: ${arr[nextKey]}');\n\t\t\t\t\tid = arr[nextKey].id;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('next-id: ${arr[prevKey]]}');\n\t\t\t\t\tid = arr[prevKey].id;\n\t\t\t\t}\n\t\t\t\tconsole.log('-------');\n\t\t\t}\n\t\t}\n\t\tconsole.groupEnd();\n\t\tdocument.getElementById(id).scrollIntoView();\n\t}\n\n\tfunction onScrollHandler(e:MouseScrollEvent) {\n\t\t// scrolltracker.innerHTML = '${untyped e.currentTarget.scrollTop}';\n\n\t\tif (!isAutoScroll) {\n\t\t\tif (timer != null) {\n\t\t\t\twindow.clearTimeout(timer);\n\t\t\t}\n\t\t\ttimer = window.setTimeout(function() {\n\t\t\t\t// do something\n\t\t\t\tonScrollStop();\n\t\t\t}, 150);\n\n\t\t\tcurrentPos = untyped e.currentTarget.scrollTop;\n\n\t\t\tif (currentPos > previousPos) {\n\t\t\t\tdirPos = 1;\n\t\t\t} else {\n\t\t\t\tdirPos = -1;\n\t\t\t}\n\n\t\t\t// trace(dirPos);\n\n\t\t\tpreviousPos = currentPos;\n\t\t}\n\t}\n\n\t/**\n\t\t// horizontal\n\t\t.monkee-fullpage-list {\n\t\t\tdisplay: block ruby;\n\t\t}\n\t\t// vertical\n\t\t.monkee-fullpage-list {\n\t\t\tdisplay: block;\n\t\t}\n\t\t*\n\t */\n\tfunction initToggle() {\n\t\tvar btn = document.getElementById('btn-toggle-dir');\n\t\tbtn.onclick = (e) -> {\n\t\t\tvar ul:Element = cast document.querySelector('[monkee-fullpage]');\n\t\t\t// trace(\"e: \" + e);\n\t\t\tif (isVertical) {\n\t\t\t\tisVertical = false;\n\t\t\t\tLib.nativeThis.innerHTML = '<i class=\"fa fa-arrows-v\" aria-hidden=\"true\"></i>';\n\t\t\t\tul.classList.add('monkee-fullpage-list-horizontal');\n\t\t\t} else {\n\t\t\t\tisVertical = true;\n\t\t\t\tLib.nativeThis.innerHTML = '<i class=\"fa fa-arrows-h\" aria-hidden=\"true\"></i>';\n\t\t\t\tul.classList.remove('monkee-fullpage-list-horizontal');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onclickHandler(e:Event):Void {\n\t\t// e.preventDefault();\n\t\tfor (i in 0...linkArray.length) {\n\t\t\tvar link:LinkElement = cast linkArray[i];\n\t\t\tlink.classList.remove('active');\n\t\t}\n\t\tuntyped e.currentTarget.classList.add('active');\n\t\t// trace(e);\n\t}\n\n\tfunction setupStyle() {\n\t\tvar style = document.createElement('style');\n\t\tstyle.innerHTML = '\n.monkee-fullpage-list {\n  display: inline-block;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  list-style-type: none;\n  overflow: auto;\n  scroll-behavior: smooth;\n}\n.monkee-fullpage-list-horizontal {\n  display: block ruby;\n}\n.monkee-fullpage-slide {\n  border: 0px solid pink;\n  width: 100%;\n  height: 100%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n';\n\t\tdocument.head.appendChild(style);\n\t}\n\n\tstatic public function main() {\n\t\tvar app = new MonkeeFullpage();\n\t}\n}\n\ntypedef SlideObj = {\n\tvar el:Dynamic;\n\tvar id:String;\n\tvar start:Int;\n\tvar middle:Int;\n\tvar end:Int;\n}\n","import haxe.macro.Context;\n\nclass App {\n\tpublic static inline var URL:String = \"https://matthijskamstra.github.io/monkee-z/\";\n\n\tpublic static inline var NAME:String = \"[Monkee-Z]\";\n\n\t// events\n\tpublic static inline var ON_LOAD_READY:String = \"onLoadReady\";\n\tpublic static inline var ON_LOAD_UPDATE:String = \"onLoadUpdate\";\n\n\t/**\n\t * @example\n\t * \t\tconsole.log(App.callIn('MonkeeRoute'));\n\t *\n\t * @param str\t\tname for call out\n\t * @param version\tcurrent version for that class (use for release, debug gets current date)\n\t */\n\tpublic static inline function callIn(str:String, version:String) {\n\t\tvar _version = version;\n\t\t#if debug\n\t\t_version = App.getBuildDate();\n\t\t#end\n\t\treturn '${NAME} ${str} - version: ${_version}';\n\t}\n\n\tpublic static inline macro function getBuildDate() {\n\t\t#if !display\n\t\tvar date = Date.now().toString();\n\t\treturn macro $v{date};\n\t\t#else\n\t\tvar date = Date.now().toString();\n\t\treturn macro $v{date};\n\t\t#end\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport js.Boot;\nimport js.Syntax;\n\n@:keepInit\n@:coreApi class Std {\n\t@:deprecated('Std.is is deprecated. Use Std.isOfType instead.')\n\tpublic static inline function is(v:Dynamic, t:Dynamic):Bool {\n\t\treturn isOfType(v, t);\n\t}\n\n\tpublic static inline function isOfType(v:Dynamic, t:Dynamic):Bool {\n\t\treturn @:privateAccess js.Boot.__instanceof(v, t);\n\t}\n\n\tpublic static inline function downcast<T:{}, S:T>(value:T, c:Class<S>):S@:privateAccess {\n\t\treturn if (js.Boot.__downcastCheck(value, c)) cast value else null;\n\t}\n\n\t@:deprecated('Std.instance() is deprecated. Use Std.downcast() instead.')\n\tpublic static inline function instance<T:{}, S:T>(value:T, c:Class<S>):S {\n\t\treturn downcast(value, c);\n\t}\n\n\t@:pure\n\tpublic static function string(s:Dynamic):String {\n\t\treturn @:privateAccess js.Boot.__string_rec(s, \"\");\n\t}\n\n\tpublic static inline function int(x:Float):Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt(x:String):Null<Int> {\n\t\tif(x != null) {\n\t\t\tfor(i in 0...x.length) {\n\t\t\t\tvar c = StringTools.fastCodeAt(x, i);\n\t\t\t\tif(c <= 8 || (c >= 14 && c != ' '.code && c != '-'.code)) {\n\t\t\t\t\tvar nc = StringTools.fastCodeAt(x, i + 1);\n\t\t\t\t\tvar v = js.Lib.parseInt(x, (nc == \"x\".code || nc == \"X\".code) ? 16 : 10);\n\t\t\t\t\treturn Math.isNaN(v) ? null : cast v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static inline function parseFloat(x:String):Float {\n\t\treturn js.Syntax.code(\"parseFloat({0})\", x);\n\t}\n\n\tpublic static function random(x:Int):Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random() * x);\n\t}\n\n\tstatic function __init__():Void\n\t\tuntyped {\n\t\t\t__feature__(\"js.Boot.getClass\", String.prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"String\"] = String, String));\n\t\t\t__feature__(\"js.Boot.isClass\", String.__name__ = __feature__(\"Type.getClassName\", \"String\", true));\n\t\t\t__feature__(\"Type.resolveClass\", $hxClasses[\"Array\"] = Array);\n\t\t\t__feature__(\"js.Boot.isClass\", Array.__name__ = __feature__(\"Type.getClassName\", \"Array\", true));\n\t\t\t__feature__(\"Date.*\", {\n\t\t\t\t__feature__(\"js.Boot.getClass\",\n\t\t\t\t\tjs.Syntax.code('Date').prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"Date\"] = js.Syntax.code('Date'), js.Syntax.code('Date')));\n\t\t\t\t__feature__(\"js.Boot.isClass\", js.Syntax.code('Date').__name__ = \"Date\");\n\t\t\t});\n\t\t\t__feature__(\"Int.*\", js.Syntax.code('var Int = { };'));\n\t\t\t__feature__(\"Dynamic.*\", js.Syntax.code('var Dynamic = { };'));\n\t\t\t__feature__(\"Float.*\", js.Syntax.code('var Float = Number'));\n\t\t\t__feature__(\"Bool.*\", js.Syntax.code('var Bool = Boolean'));\n\t\t\t__feature__(\"Class.*\", js.Syntax.code('var Class = { };'));\n\t\t\t__feature__(\"Enum.*\", js.Syntax.code('var Enum = { };'));\n\t\t\t#if (js_es < 5)\n\t\t\t__feature__(\"Array.map\", if (Array.prototype.map == null) Array.prototype.map = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length)\n\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t__feature__(\"Array.filter\", if (Array.prototype.filter == null) Array.prototype.filter = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length) {\n\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\tif (f(e))\n\t\t\t\t\t\ta.push(e);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t#end\n\t\t}\n}\n","/*\n * Copyright (C)2005-2018 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.iterators;\n\n/**\n\tThis iterator is used only when `Array<T>` is passed to `Iterable<T>`\n**/\nclass ArrayIterator<T> {\n\tfinal array:Array<T>;\n\tvar current:Int = 0;\n\n\t/**\n\t\tCreate a new `ArrayIterator`.\n\t**/\n\t#if !hl inline #end\n\tpublic function new(array:Array<T>) {\n\t\tthis.array = array;\n\t}\n\n\t/**\n\t\tSee `Iterator.hasNext`\n\t**/\n\t#if !hl inline #end\n\tpublic function hasNext() {\n\t\treturn current < array.length;\n\t}\n\n\t/**\n\t\tSee `Iterator.next`\n\t**/\n\t#if !hl inline #end\n\tpublic function next() {\n\t\treturn array[current++];\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage js;\n\nimport js.Syntax; // import it here so it's always available in the compiler\n\n@:dox(hide)\nclass Boot {\n\tstatic inline function isClass(o:Dynamic):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isInterface(o:Class<Dynamic>):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isInterface\", o.__isInterface__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic):Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\t@:pure static function getClass(o:Null<Dynamic>):Null<Dynamic> {\n\t\tif (o == null) {\n\t\t\treturn null;\n\t\t} else if (Std.isOfType(o, Array)) {\n\t\t\treturn Array;\n\t\t} else {\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t\t\tif (cl != null)\n\t\t\t\treturn cl;\n\t\t\tvar name = __nativeClassName(o);\n\t\t\tif (name != null)\n\t\t\t\treturn __resolveNativeClass(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o, s:String) {\n\t\tuntyped {\n\t\t\tif (o == null)\n\t\t\t\treturn \"null\";\n\t\t\tif (s.length >= 5)\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = js.Syntax.typeof(o);\n\t\t\tif (t == \"function\" && (isClass(o) || isEnum(o)))\n\t\t\t\tt = \"object\";\n\t\t\tswitch (t) {\n\t\t\t\tcase \"object\":\n\t\t\t\t\t#if !js_enums_as_arrays\n\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\n\t\t\t\t\t\tvar e = $hxEnums[o.__enum__];\n\t\t\t\t\t\tvar con = e.__constructs__[o._hx_index];\n\t\t\t\t\t\tvar n = con._hx_name;\n\t\t\t\t\t\tif (con.__params__) {\n\t\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\t\treturn n + \"(\" + [for (p in (con.__params__ : Array<String>)) __string_rec(o[p], s)].join(\",\") + \")\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t#end\n\t\t\t\t\tif (js.Syntax.instanceof(o, Array)) {\n\t\t\t\t\t\t#if js_enums_as_arrays\n\t\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\n\t\t\t\t\t\t\tif (o.length == 2)\n\t\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\t\tvar str = o[0] + \"(\";\n\t\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\t\tfor (i in 2...o.length) {\n\t\t\t\t\t\t\t\tif (i != 2)\n\t\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i], s);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tstr += __string_rec(o[i], s);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\t#end\n\t\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor (i in 0...o.length)\n\t\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\") + __string_rec(o[i], s);\n\t\t\t\t\t\tstr += \"]\";\n\t\t\t\t\t\treturn str;\n\t\t\t\t\t}\n\t\t\t\t\tvar tostr;\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t\t} catch (e:Dynamic) {\n\t\t\t\t\t\t// strange error on IE\n\t\t\t\t\t\treturn \"???\";\n\t\t\t\t\t}\n\t\t\t\t\tif (tostr != null && tostr != js.Syntax.code(\"Object.toString\") && js.Syntax.typeof(tostr) == \"function\") {\n\t\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\t\tif (s2 != \"[object Object]\")\n\t\t\t\t\t\t\treturn s2;\n\t\t\t\t\t}\n\t\t\t\t\tvar str = \"{\\n\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t\tvar k:String = null;\n\t\t\t\t\tjs.Syntax.code(\"for( {0} in {1} ) {\", k, o);\n\t\t\t\t\tif (hasp && !o.hasOwnProperty(k))\n\t\t\t\t\t\tjs.Syntax.code(\"continue\");\n\t\t\t\t\tif (k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\")\n\t\t\t\t\t\tjs.Syntax.code(\"continue\");\n\t\t\t\t\tif (str.length != 2)\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \" + __string_rec(o[k], s);\n\t\t\t\t\tjs.Syntax.code(\"}\");\n\t\t\t\t\ts = s.substring(1);\n\t\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\t\treturn str;\n\t\t\t\tcase \"function\":\n\t\t\t\t\treturn \"<function>\";\n\t\t\t\tcase \"string\":\n\t\t\t\t\treturn o;\n\t\t\t\tdefault:\n\t\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\t@:pure private static function __interfLoop(cc:Dynamic, cl:Dynamic) {\n\t\tif (cc == null)\n\t\t\treturn false;\n\t\tif (cc == cl)\n\t\t\treturn true;\n\t\tvar intf:Dynamic = cc.__interfaces__;\n\t\tif (intf != null\n\t\t\t// ES6 classes inherit statics, so we want to avoid accessing inherited `__interfaces__`\n\t\t\t#if (js_es >= 6) && (cc.__super__ == null || cc.__super__.__interfaces__ != intf) #end\n\t\t) {\n\t\t\tfor (i in 0...intf.length) {\n\t\t\t\tvar i:Dynamic = intf[i];\n\t\t\t\tif (i == cl || __interfLoop(i, cl))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn __interfLoop(cc.__super__, cl);\n\t}\n\n\t@:pure private static function __instanceof(o:Dynamic, cl:Dynamic) {\n\t\tif (cl == null)\n\t\t\treturn false;\n\t\tswitch (cl) {\n\t\t\tcase Int:\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\" && js.Syntax.strictEq(o | 0, o);\n\t\t\tcase Float:\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\";\n\t\t\tcase Bool:\n\t\t\t\treturn js.Syntax.typeof(o) == \"boolean\";\n\t\t\tcase String:\n\t\t\t\treturn js.Syntax.typeof(o) == \"string\";\n\t\t\tcase Array:\n\t\t\t\treturn js.Syntax.instanceof(o, Array) #if js_enums_as_arrays && o.__enum__ == null #end;\n\t\t\tcase Dynamic:\n\t\t\t\treturn o != null;\n\t\t\tdefault:\n\t\t\t\tif (o != null) {\n\t\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\n\t\t\t\t\tif (js.Syntax.typeof(cl) == \"function\") {\n\t\t\t\t\t\tif (__downcastCheck(o, cl))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (js.Syntax.typeof(cl) == \"object\" && __isNativeObj(cl)) {\n\t\t\t\t\t\tif (js.Syntax.instanceof(o, cl))\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// do not use isClass/isEnum here\n\t\t\t\tuntyped __feature__(\"Class.*\", if (cl == Class && o.__name__ != null) return true);\n\t\t\t\tuntyped __feature__(\"Enum.*\", if (cl == Enum && o.__ename__ != null) return true);\n\t\t\t\t#if js_enums_as_arrays\n\t\t\t\treturn o.__enum__ == cl;\n\t\t\t\t#else\n\t\t\t\treturn untyped __feature__(\n\t\t\t\t\t\"has_enum\",\n\t\t\t\t\tif (o.__enum__ != null) ($hxEnums[o.__enum__]) == cl else false,\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t\t#end\n\t\t}\n\t}\n\n\tstatic function __downcastCheck(o:Dynamic, cl:Class<Dynamic>):Bool {\n\t\treturn js.Syntax.instanceof(o, cl) || (isInterface(cl) && inline __implements(o, cl));\n\t}\n\n\tstatic function __implements(o:Dynamic, iface:Class<Dynamic>):Bool {\n\t\treturn __interfLoop(getClass(o), iface);\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o:Dynamic, t:Dynamic) {\n\t\tif (o == null || __instanceof(o, t))\n\t\t\treturn o;\n\t\telse\n\t\t\tthrow \"Cannot cast \" + Std.string(o) + \" to \" + Std.string(t);\n\t}\n\n\tstatic var __toStr:js.lib.Function;\n\n\tstatic function __init__() {\n\t\tBoot.__toStr = (cast {}).toString;\n\t}\n\n\t// get native JS [[Class]]\n\tstatic function __nativeClassName(o:Dynamic):String {\n\t\tvar name:String = __toStr.call(o).slice(8, -1);\n\t\t// exclude general Object and Function\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\n\t\t\treturn null;\n\t\treturn name;\n\t}\n\n\t// check for usable native JS object\n\tstatic function __isNativeObj(o:Dynamic):Bool {\n\t\treturn __nativeClassName(o) != null;\n\t}\n\n\t// resolve native JS class in the global scope:\n\tstatic function __resolveNativeClass(name:String) {\n\t\treturn js.Lib.global[cast name];\n\t}\n}\n"],
"names":[],
"mappings":"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"
}