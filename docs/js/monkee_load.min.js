!function(r){"use strict";(class t{constructor(){this.timeEnd=0,this.timeStart=0,this.loadingId=0,this.loadingArr=[],this.dataAtr="data-load",this.req=new XMLHttpRequest,this.DEBUG=!1;let e=this;window.document.addEventListener("DOMContentLoaded",function(t){e.DEBUG&&r.console.info("[monkee] - MonkeeLoad - build: 2021-04-17 15:03:50"),e.init()})}init(){var i=window.document.querySelectorAll("["+this.dataAtr+"]");let n=0;for(var t=i.length;n<t;){let t=i[n++];var o=t.getAttribute(this.dataAtr);this.DEBUG&&r.console.log("templates url: "+o),this.loadingArr.push({el:t,url:o});let e=window.document.createElement("div");e.className="loader",t.appendChild(e)}this.timeStart=(new Date).getTime(),this.startLoading(this.loadingId)}getCurrentTime(){this.timeEnd=(new Date).getTime(),this.DEBUG&&r.console.log(this.timeEnd-this.timeStart+"ms")}startLoading(t){t>=this.loadingArr.length||(t=this.loadingArr[t],this.DEBUG&&r.console.log("start loading: "+t.url+" into element"),this.loadHTML(t.url,t.el),this.loadingId++)}loadHTML(e,i){let n=this;this.req.open("GET",e),this.req.onload=function(){let t=n.getBody(n.req.response);""==t&&(t=n.req.response),n.processHTML(t,i),n.DEBUG&&r.console.log("- end loading and parsing url: "+e+" into element"),n.getCurrentTime(),n.startLoading(n.loadingId)},this.req.onerror=function(t){n.DEBUG&&r.console.error("[JS] error: "+t)},this.req.send()}getBody(t){let e=t.toLowerCase();var i=e.indexOf("<body");if(-1==i)return"";if(-1==(i=e.indexOf(">",i)))return"";let n=e.lastIndexOf("</body>");return-1==n&&(n=e.lastIndexOf("</html>")),-1==n&&(n=t.length),t.slice(i+1,n)}processHTML(t,e){e.outerHTML=t}static main(){new t}}).main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);