!function(s){"use strict";class n{}n.NAME="[monkee]",class t{constructor(){this.timeEnd=0,this.timeStart=0,this.loadingId=0,this.loadingArr=[],this.dataAtr="data-load",this.req=new XMLHttpRequest,this.DEBUG=!1;let e=this;window.document.addEventListener("DOMContentLoaded",function(t){e.DEBUG&&s.console.info(n.NAME+" - MonkeeLoad - 2021-04-17 13:26:56"),e.init()})}init(){var n=window.document.querySelectorAll("["+this.dataAtr+"]");let i=0;for(var t=n.length;i<t;){let t=n[i++];var o=t.getAttribute(this.dataAtr);this.DEBUG&&s.console.log("templates url: "+o),this.loadingArr.push({el:t,url:o});let e=window.document.createElement("div");e.className="loader",t.appendChild(e)}this.timeStart=(new Date).getTime(),this.startLoading(this.loadingId)}getCurrentTime(){this.timeEnd=(new Date).getTime(),this.DEBUG&&s.console.log(this.timeEnd-this.timeStart+"ms")}startLoading(t){t>=this.loadingArr.length||(t=this.loadingArr[t],this.DEBUG&&s.console.log("start loading: "+t.url+" into element"),this.loadHTML(t.url,t.el),this.loadingId++)}loadHTML(e,n){let i=this;this.req.open("GET",e),this.req.onload=function(){let t=i.getBody(i.req.response);""==t&&(t=i.req.response),i.processHTML(t,n),i.DEBUG&&s.console.log("- end loading and parsing url: "+e+" into element"),i.getCurrentTime(),i.startLoading(i.loadingId)},this.req.onerror=function(t){i.DEBUG&&s.console.error("[JS] error: "+t)},this.req.send()}getBody(t){let e=t.toLowerCase();var n=e.indexOf("<body");if(-1==n)return"";if(-1==(n=e.indexOf(">",n)))return"";let i=e.lastIndexOf("</body>");return-1==i&&(i=e.lastIndexOf("</html>")),-1==i&&(i=t.length),t.slice(n+1,i)}processHTML(t,e){e.outerHTML=t}static main(){new t}}.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);