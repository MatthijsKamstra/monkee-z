!function(d){"use strict";class n{static cca(e,t){t=e.charCodeAt(t);if(t==t)return t}static substr(e,t,r){if(null==r)r=e.length;else if(r<0){if(0!=t)return"";r=e.length+r}return e.substr(t,r)}static now(){return Date.now()}}class r{static foreach(e,t){let r=(e=e)instanceof Array?new a(e):e.iterator();for(;r.hasNext();)if(!t(r.next()))return!1;return!0}}class f{static field(e,t){try{return e[t]}catch(e){return null}}static getProperty(t,r){let n;if(null==t)return null;{let e;return e=!!t.__properties__&&(n=t.__properties__["get_"+r],n),e?t[n]():t[r]}}}class p{static isSpace(e,t){t=n.cca(e,t);return 8<t&&t<14||32==t}static ltrim(e){var t=e.length;let r=0;for(;r<t&&p.isSpace(e,r);)++r;return 0<r?n.substr(e,r,t-r):e}static rtrim(e){var t=e.length;let r=0;for(;r<t&&p.isSpace(e,t-r-1);)++r;return 0<r?n.substr(e,0,t-r):e}static trim(e){return p.ltrim(p.rtrim(e))}static replace(e,t,r){return e.split(t).join(r)}}class a{constructor(e){this.current=0,this.array=e}hasNext(){return this.current<this.array.length}next(){return this.array[this.current++]}}class l{static getBody(e){let t=e.toLowerCase();var r=t.indexOf("<body");if(-1==r)return"";if(-1==(r=t.indexOf(">",r)))return"";let n=t.lastIndexOf("</body>");return-1==n&&(n=t.lastIndexOf("</html>")),-1==n&&(n=e.length),e.slice(r+1,n)}static getScript(e){let t=e.toLowerCase();var r=t.indexOf("<script");if(-1==r)return"";if(-1==(r=t.indexOf(">",r)))return"";var n=t.lastIndexOf("<\/script>");return e.slice(r+1,n)}static processHTML(e,t,r){r?e.innerHTML=t:e.outerHTML=t}}class s{static search(e,t){let n=JSON.parse(e);return r.foreach(t.split("."),function(e){if(-1!=e.indexOf("[")){var t=class{static parseInt(t){if(null!=t){let e=0;for(var r=t.length;e<r;){var n=e++,a=t.charCodeAt(n);if(a<=8||14<=a&&32!=a&&45!=a){n=t.charCodeAt(1+n),n=parseInt(t,120==n||88==n?16:10);return isNaN(n)?null:n}}}return null}}.parseInt(p.replace(e.split("[")[1],"]",""));e=e.split("[")[0];var r=f.field(n,e);if(n=r[t],t>r.length)return null}else{if(!Object.prototype.hasOwnProperty.call(n,e))return n=null,!1;n=f.field(n,e)}return!0}),n}}class u{static convert(n){let a={};if(-1!=n.indexOf("?")){let e=n.split("?")[1],t=[];-1!=e.indexOf("&")?t=e.split("&"):t.push(e);let r=0;for(var s=t.length;r<s;){var i=r++;let e=t[i];var l=e.split("=")[0],i=e.split("=")[1];if(null==i)return a;a[""+l]=i}}return a}}class o{static convert(e,t){let r=[];var n=t.split("{");let a=0;for(var s=n.length;a<s;){let e=n[a++];var i=e.split("}");r=r.concat(i)}let l=0;for(var o=r.length;l<o;){var c=l++,d=r[c],u=p.trim(r[c]);Object.prototype.hasOwnProperty.call(e,u)&&(t=p.replace(t,"{"+d+"}",f.getProperty(e,u)),r[c]=f.getProperty(e,u))}return t}}class h{static set(e){let t=window.document.createElement("div");return t.className="loader",e.appendChild(t),t}}"undefined"!=typeof performance&&"function"==typeof performance.now&&(n.now=performance.now.bind(performance)),class t{constructor(){this.loadingId=0,this.loadingArr=[],this.req=new XMLHttpRequest,this.arr=["data-load","data-load-replace","data-load-inner"],this.DEBUG=!0,this.DEBUG&&d.console.info("[Monkee-Z] - MonkeeLoad - build: 2021-05-17 10:09:42");let e=0;for(var t=this.arr.length;e<t;){var n=e++,a=this.arr[n],s=window.document.querySelectorAll("["+a+"]");let r=0;for(var i=s.length;r<i;){let e=s[r++],t=e.getAttribute(a);var l=-1!=t.indexOf(".json"),o=e.getAttribute("data-target"),c=e.querySelectorAll("[data-name]"),c={el:e,url:t,query:u.convert(t),isJson:l,isInner:"data-load-inner"==a,loaderType:"data-load-inner"==a?"inner":"outer",target:o,names:c,throbber:h.set(e)};console.log("src/MonkeeLoad.hx:58:",c),this.loadingArr.push(c)}}this.startLoading(this.loadingId)}startLoading(e){e>=this.loadingArr.length||(this.loadData(this.loadingArr[e]),this.loadingId++)}loadData(s){let i=this;this.req.open("GET",s.url),this.req.onload=function(){null!=s.throbber&&s.throbber.parentElement.removeChild(s.throbber);let t=l.getBody(i.req.response);""==t&&(t=i.req.response);var r=l.getScript(i.req.response);if("{}"!=JSON.stringify(s.query)){var e=o.convert(s.query,i.req.response);l.processHTML(s.el,e,s.isInner)}else if(s.isJson)i.DEBUG&&d.console.warn(s.url),i.jsonConvert(s,i.req.response);else if(0<s.names.length){let e=0;for(var n=s.names.length;e<n;){var a=e++,a=s.names[a];l.processHTML(a,t,s.isInner)}}else l.processHTML(s.el,t,s.isInner);if(""!=r){let e=window.document.createElement("script");e.innerHTML=r,window.document.body.appendChild(e)}i.startLoading(i.loadingId)},this.req.onerror=function(e){d.console.error("error: "+e)},this.req.send()}jsonConvert(t,e){var r=JSON.parse(e);if(0<t.names.length){let e=0;for(var n=t.names.length;e<n;){var a=e++;if("input"==t.names[a].tagName.toLowerCase()){let e=t.names[a];e.value=r[e.getAttribute("data-name")]}else{let e=t.names[a];a=e.getAttribute("data-name"),a=s.search(JSON.stringify(r),a),e.innerHTML=a}}}else l.processHTML(t.el,e,!0)}static main(){window.document.addEventListener("DOMContentLoaded",function(e){new t})}}.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);