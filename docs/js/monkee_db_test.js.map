{
"version":3,
"file":"monkee_db_test.js",
"sourceRoot":"",
"sources":["file:////usr/local/lib/haxe/std/js/_std/HxOverrides.hx","file:////Users/matthijskamstra/Documents/GIT/monkee-z/src/MonkeeDB.hx","file:////Users/matthijskamstra/Documents/GIT/monkee-z/src/App.hx","file:////Users/matthijskamstra/Documents/GIT/monkee-z/src/MonkeeDBTest.hx","file:////usr/local/lib/haxe/std/js/_std/Reflect.hx","file:////usr/local/lib/haxe/std/js/_std/Std.hx","file:////usr/local/lib/haxe/std/haxe/iterators/ArrayIterator.hx"],
"sourcesContent":["/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\tstatic function dateStr(date:Date):String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear() + \"-\" + (if (m < 10) \"0\" + m else \"\" + m) + \"-\" + (if (d < 10) \"0\" + d else \"\" + d) + \" \"\n\t\t\t+ (if (h < 10) \"0\" + h else \"\" + h) + \":\" + (if (mi < 10) \"0\" + mi else \"\" + mi) + \":\" + (if (s < 10) \"0\" + s else \"\" + s);\n\t}\n\n\tstatic function strDate(s:String):Date {\n\t\tswitch (s.length) {\n\t\t\tcase 8: // hh:mm:ss\n\t\t\t\tvar k = s.split(\":\");\n\t\t\t\tvar d = js.Syntax.construct(Date);\n\t\t\t\t(cast d)[cast \"setTime\"](0);\n\t\t\t\t(cast d)[cast \"setUTCHours\"](k[0]);\n\t\t\t\t(cast d)[cast \"setUTCMinutes\"](k[1]);\n\t\t\t\t(cast d)[cast \"setUTCSeconds\"](k[2]);\n\t\t\t\treturn d;\n\t\t\tcase 10: // YYYY-MM-DD\n\t\t\t\tvar k = s.split(\"-\");\n\t\t\t\treturn new Date(cast k[0], (cast k[1]) - 1, cast k[2], 0, 0, 0);\n\t\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\t\tvar k = s.split(\" \");\n\t\t\t\tvar y = k[0].split(\"-\");\n\t\t\t\tvar t = k[1].split(\":\");\n\t\t\t\treturn new Date(cast y[0], (cast y[1]) - 1, cast y[2], cast t[0], cast t[1], cast t[2]);\n\t\t\tdefault:\n\t\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\t@:pure\n\tstatic function cca(s:String, index:Int):Null<Int> {\n\t\tvar x = (cast s).charCodeAt(index);\n\t\tif (x != x) // fast isNaN\n\t\t\treturn js.Lib.undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\t@:pure\n\tstatic function substr(s:String, pos:Int, ?len:Int):String {\n\t\tif (len == null) {\n\t\t\tlen = s.length;\n\t\t} else if (len < 0) {\n\t\t\tif (pos == 0)\n\t\t\t\tlen = s.length + len;\n\t\t\telse\n\t\t\t\treturn \"\";\n\t\t}\n\n\t\t#if (js_es < 5)\n\t\tif (pos < 0) {\n\t\t\tpos = s.length + pos;\n\t\t\tif (pos < 0)\n\t\t\t\tpos = 0;\n\t\t}\n\t\t#end\n\n\t\treturn (cast s).substr(pos, len);\n\t}\n\n\t@:pure\n\tstatic function indexOf<T>(a:Array<T>, obj:T, i:Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0)\n\t\t\t\ti = 0;\n\t\t}\n\t\twhile (i < len) {\n\t\t\tif (js.Syntax.strictEq(a[i], obj))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\t@:pure\n\tstatic function lastIndexOf<T>(a:Array<T>, obj:T, i:Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0) {\n\t\t\tif (js.Syntax.strictEq(a[i], obj))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>(a:Array<T>, obj:T) {\n\t\tvar i = a.indexOf(obj);\n\t\tif (i == -1)\n\t\t\treturn false;\n\t\ta.splice(i, 1);\n\t\treturn true;\n\t}\n\n\t@:pure\n\tstatic function iter<T>(a:Array<T>):Iterator<T>\n\t\tuntyped {\n\t\t\treturn {\n\t\t\t\tcur: 0,\n\t\t\t\tarr: a,\n\t\t\t\thasNext: function() {\n\t\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t\t},\n\t\t\t\tnext: function() {\n\t\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t@:ifFeature(\"anon_read.keyValueIterator\", \"dynamic_read.keyValueIterator\", \"closure_read.keyValueIterator\")\n\tstatic function keyValueIter<T>( a : Array<T> ) {\n\t\treturn new haxe.iterators.ArrayKeyValueIterator(a);\n\t}\n\n\t@:pure\n\tstatic function now(): Float return js.lib.Date.now();\n\n\tstatic function __init__()\n\t\tuntyped {\n\t\t\t#if (js_es < 5)\n\t\t\t__feature__('HxOverrides.indexOf',\n\t\t\t\tif (Array.prototype.indexOf) js.Syntax.code(\"HxOverrides\").indexOf = function(a, o, i) return Array.prototype.indexOf.call(a, o, i));\n\t\t\t__feature__('HxOverrides.lastIndexOf',\n\t\t\t\tif (Array.prototype.lastIndexOf) js.Syntax.code(\"HxOverrides\").lastIndexOf = function(a, o, i) return Array.prototype.lastIndexOf.call(a, o, i));\n\t\t\t#end\n\n\t\t\t__feature__('HxOverrides.now',\n\t\t\t\tif (js.Syntax.typeof(performance) != 'undefined' && js.Syntax.typeof(performance.now) == 'function') {\n\t\t\t\t\tHxOverrides.now = performance.now.bind(performance);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n}\n","package;\n\nimport haxe.Json;\nimport haxe.Constraints.Function;\nimport gui.*;\nimport js.Browser.*;\nimport js.html.*;\n\n@:expose\nclass MonkeeDB {\n\tstatic var dbJson:Dynamic = null;\n\n\t/**\n\t * 0.0.1 \tinitial\n\t */\n\tstatic inline var VERSION = '0.0.1';\n\n\tstatic inline final DEBUG = #if debug true #else false #end;\n\n\t// CRUD: Create Read Update Delete\n\tpublic function new() {\n\t\tconsole.info(App.callIn('DB ${utils.Emoji.monkeeDB}', VERSION));\n\t}\n\n\t// create\n\n\t/**\n\t * create the database or get the previous information\n\t *\n\t * if (isOverwrite == false) the 'database' is not created and not overwritten\n\t *\n\t * @param dbName\t\tdataBase name\n\t * @param isOverwrite\tpossible to reset the database/overwrite with new default data\n\t */\n\tpublic static function create(dbName:String, ?isOverwrite:Bool = false) {\n\t\tif (DEBUG)\n\t\t\tconsole.info(\"get local storage\");\n\n\t\tdbJson = Json.parse(window.localStorage.getItem(dbName));\n\t\t// if (DEBUG) console.info(dbJson);\n\t\tif (dbJson == null || isOverwrite) {\n\t\t\tdbJson = {\n\t\t\t\t_id: 'localdata-${Date.now().getTime()}',\n\t\t\t\tversion: VERSION,\n\t\t\t\tcreated: Date.now().toString(),\n\t\t\t\tupdated: Date.now().toString(),\n\t\t\t}\n\t\t\t// window.localStorage.setItem(dbName, Json.stringify(dbJson));\n\n\t\t\tif (DEBUG) {\n\t\t\t\tconsole.log('initialize database:' + Json.stringify(dbJson));\n\t\t\t}\n\n\t\t\tsaveData(dbName);\n\t\t}\n\t}\n\n\t// read\n\n\t/**\n\t * read/load data from \"database\", send key and get specific data\n\t *\n\t * @example\n\t * \t\t\t\tvar dbJson = LocalData.read('databasedbName'); // get whole dbJson\n\t * \t\t\t\tvar version = LocalData.read('databasedbName', 'version'); // version from dbJson (untyped)\n\t *\n\t * @param dbName\t\tdataBase name\n\t * @param key\t\t\t(optional) key to get from dbJson\n\t * @return Dynamic\t\tdbJson/object or null\n\t */\n\tpublic static function read(dbName:String, ?key:String) {\n\t\tif (dbJson == null) {\n\t\t\tdbJson = Json.parse(window.localStorage.getItem(dbName));\n\t\t}\n\n\t\tif (key == null) {\n\t\t\treturn dbJson;\n\t\t}\n\n\t\tif (Reflect.hasField(dbJson, key)) {\n\t\t\treturn Reflect.getProperty(dbJson, key);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * load data (syntactic sugar for read without a key param)\n\t *\n\t * @example\n\t * \t\t\t\tvar dbJson = LocalData.load('databasedbName'); // get dbJson\n\t *\n\t * @param dbName\t\tdataBase name\n\t * @return Dynamic\t\tdbJson or null\n\t */\n\tpublic static function load(dbName:String):Dynamic {\n\t\tif (dbJson == null) {\n\t\t\tdbJson = Json.parse(window.localStorage.getItem(dbName));\n\t\t}\n\t\tif (dbJson == null) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn dbJson;\n\t\t}\n\t}\n\n\t// update\n\n\t/**\n\t * update data (essential overwriting data: be careful with arrays and object)\n\t *\n\t * in the process the `updated` is updated to current date\n\t *\n\t * @example\n\t * \t\t\t\tvar dbJson = LocalData.update('databasedbName', 'test', 'foo');\n\t *\n\t * @param dbName\t\tdataBase name\n\t * @param key\t\t\t(optional) key to get from dbJson\n\t * @param value\n\t */\n\tpublic static function update(dbName:String, key:String, value:Dynamic) {\n\t\tif (dbJson == null) {\n\t\t\tdbJson = Json.parse(window.localStorage.getItem(dbName));\n\t\t}\n\n\t\t// if (Reflect.hasField(dbJson, key)) {\n\t\tReflect.setProperty(dbJson, key, value);\n\t\tReflect.setProperty(dbJson, 'updated', Date.now().toString());\n\t\t// }\n\n\t\tsaveData(dbName);\n\t}\n\n\t// delete\n\n\t/**\n\t * [Description]\n\t * @example\n\t * \t\t\t\tvar dbJson = LocalData.delete('databasedbName', 'test');\n\t *\n\t * @param dbName\t\tdataBase name\n\t * @param key\t\t\t(optional) key to get from dbJson\n\t */\n\tpublic static function delete(dbName:String, key:String) {\n\t\tif (dbJson == null) {\n\t\t\tdbJson = Json.parse(window.localStorage.getItem(dbName));\n\t\t}\n\n\t\tif (Reflect.hasField(dbJson, key)) {\n\t\t\tReflect.deleteField(dbJson, key);\n\t\t}\n\n\t\tsaveData(dbName);\n\t}\n\n\t/**\n\t * remove localStorage with ddbName\n\t *\n\t * @param dbName\t\tdataBase name\n\t */\n\tpublic static function clear(dbName:String) {\n\t\tdbJson = null;\n\t\twindow.localStorage.removeItem(dbName);\n\t\tif (DEBUG)\n\t\t\tconsole.log('cleared data \"$dbName\"');\n\t}\n\n\t// ____________________________________ private ____________________________________\n\n\tprivate static function saveData(dbName:String) {\n\t\twindow.localStorage.setItem(dbName, Json.stringify(dbJson));\n\t\tif (DEBUG)\n\t\t\tconsole.log(dbJson);\n\t}\n}\n","import haxe.macro.Context;\n\nclass App {\n\tpublic static inline var URL:String = \"https://matthijskamstra.github.io/monkee-z/\";\n\n\tpublic static inline var NAME:String = \"[Monkee-Z]\";\n\n\t// events\n\tpublic static inline var ON_LOAD_READY:String = \"onLoadReady\";\n\tpublic static inline var ON_LOAD_UPDATE:String = \"onLoadUpdate\";\n\n\t/**\n\t * @example\n\t * \t\tconsole.log(App.callIn('MonkeeRoute'));\n\t *\n\t * @param str\t\tname for call out\n\t * @param version\tcurrent version for that class (use for release, debug gets current date)\n\t */\n\tpublic static inline function callIn(str:String, version:String) {\n\t\tvar _version = version;\n\t\t#if debug\n\t\t_version = App.getBuildDate();\n\t\t#end\n\t\treturn '${NAME} ${str} - version: ${_version}';\n\t}\n\n\tpublic static inline macro function getBuildDate() {\n\t\t#if !display\n\t\tvar date = Date.now().toString();\n\t\treturn macro $v{date};\n\t\t#else\n\t\tvar date = Date.now().toString();\n\t\treturn macro $v{date};\n\t\t#end\n\t}\n}\n","package;\n\nimport MonkeeDB.*;\nimport js.Browser.*;\n\n@:expose\nclass MonkeeDBTest {\n\tvar isDebug = true;\n\tvar DEBUG = true;\n\n\tpublic function new() {\n\t\tif (DEBUG)\n\t\t\tconsole.log('${App.NAME} - MonkeeDBTest - ${App.getBuildDate()}');\n\n\t\t// init0();\n\t\tinit1();\n\t}\n\n\tfunction init0() {\n\t\tvar dbName = 'test1';\n\t\tMonkeeDB.create(dbName);\n\t\tconsole.log(MonkeeDB.read(dbName));\n\t\tMonkeeDB.update(dbName, 'hello', 'Matthijs');\n\t\tconsole.log(MonkeeDB.read(dbName, 'hello'));\n\t}\n\n\tfunction init1() {\n\t\tvar dbName = 'test2';\n\t\tvar dbKey = 'input_text';\n\t\tcreate(dbName);\n\t\tconsole.log(read(dbName));\n\t\tvar obj = read(dbName, dbKey);\n\t\tif (obj == null) {\n\t\t\tobj = {};\n\t\t}\n\t\tReflect.setProperty(obj, 'name', 'Matthijs Kamstra');\n\t\tuntyped obj['age'] = Std.random(1000);\n\t\tupdate(dbName, dbKey, obj);\n\t\tconsole.log(read(dbName, dbKey));\n\t\tclear(dbName);\n\t}\n\n\tstatic public function main() {\n\t\tdocument.addEventListener('DOMContentLoaded', (event) -> {\n\t\t\tvar app = new MonkeeDBTest();\n\t\t});\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\t@:pure\n\tpublic inline static function hasField(o:Dynamic, field:String):Bool {\n\t\treturn js.lib.Object.prototype.hasOwnProperty.call(o, field);\n\t}\n\n\t@:pure\n\tpublic static function field(o:Dynamic, field:String):Dynamic {\n\t\ttry\n\t\t\treturn o[cast field]\n\t\tcatch (e:Dynamic)\n\t\t\treturn null;\n\t}\n\n\tpublic inline static function setField(o:Dynamic, field:String, value:Dynamic):Void {\n\t\to[cast field] = value;\n\t}\n\n\tpublic static function getProperty(o:Dynamic, field:String):Dynamic\n\t\tuntyped {\n\t\t\tvar tmp;\n\t\t\treturn if (o == null) __define_feature__(\"Reflect.getProperty\",\n\t\t\t\tnull) else if (o.__properties__ && (tmp = o.__properties__[\"get_\" + field])) o[tmp]() else o[field];\n\t\t}\n\n\tpublic static function setProperty(o:Dynamic, field:String, value:Dynamic):Void\n\t\tuntyped {\n\t\t\tvar tmp;\n\t\t\tif (o.__properties__ && (tmp = o.__properties__[\"set_\" + field]))\n\t\t\t\to[tmp](value)\n\t\t\telse\n\t\t\t\to[field] = __define_feature__(\"Reflect.setProperty\", value);\n\t\t}\n\n\tpublic inline static function callMethod(o:Dynamic, func:haxe.Constraints.Function, args:Array<Dynamic>):Dynamic {\n\t\treturn (cast func : js.lib.Function).apply(o, args);\n\t}\n\n\tpublic static function fields(o:Dynamic):Array<String> {\n\t\tvar a = [];\n\t\tif (o != null)\n\t\t\tuntyped {\n\t\t\t\tvar hasOwnProperty = js.lib.Object.prototype.hasOwnProperty;\n\t\t\t\tjs.Syntax.code(\"for( var f in o ) {\");\n\t\t\t\tif (f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f))\n\t\t\t\t\ta.push(f);\n\t\t\t\tjs.Syntax.code(\"}\");\n\t\t\t}\n\t\treturn a;\n\t}\n\n\t@:access(js.Boot)\n\tpublic static function isFunction(f:Dynamic):Bool {\n\t\treturn js.Syntax.typeof(f) == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>(a:T, b:T):Int {\n\t\treturn (a == b) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods(f1:Dynamic, f2:Dynamic):Bool {\n\t\tif (f1 == f2)\n\t\t\treturn true;\n\t\tif (!isFunction(f1) || !isFunction(f2))\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\t@:access(js.Boot)\n\tpublic static function isObject(v:Dynamic):Bool {\n\t\tif (v == null)\n\t\t\treturn false;\n\t\tvar t = js.Syntax.typeof(v);\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null))\n\t\t\t|| (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue(v:Dynamic):Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField(o:Dynamic, field:String):Bool {\n\t\tif (!hasField(o, field))\n\t\t\treturn false;\n\t\tjs.Syntax.delete(o, field);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>(o:Null<T>):Null<T> {\n\t\tif (o == null)\n\t\t\treturn null;\n\t\tvar o2:Dynamic = {};\n\t\tfor (f in Reflect.fields(o))\n\t\t\tReflect.setField(o2, f, Reflect.field(o, f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function(f:Array<Dynamic>->Void):Dynamic {})\n\tpublic static function makeVarArgs(f:Array<Dynamic>->Dynamic):Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(js.Syntax.code(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n}\n","/*\n * Copyright (C)2005-2019 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nimport js.Boot;\nimport js.Syntax;\n\n@:keepInit\n@:coreApi class Std {\n\t@:deprecated('Std.is is deprecated. Use Std.isOfType instead.')\n\tpublic static inline function is(v:Dynamic, t:Dynamic):Bool {\n\t\treturn isOfType(v, t);\n\t}\n\n\tpublic static inline function isOfType(v:Dynamic, t:Dynamic):Bool {\n\t\treturn @:privateAccess js.Boot.__instanceof(v, t);\n\t}\n\n\tpublic static inline function downcast<T:{}, S:T>(value:T, c:Class<S>):S@:privateAccess {\n\t\treturn if (js.Boot.__downcastCheck(value, c)) cast value else null;\n\t}\n\n\t@:deprecated('Std.instance() is deprecated. Use Std.downcast() instead.')\n\tpublic static inline function instance<T:{}, S:T>(value:T, c:Class<S>):S {\n\t\treturn downcast(value, c);\n\t}\n\n\t@:pure\n\tpublic static function string(s:Dynamic):String {\n\t\treturn @:privateAccess js.Boot.__string_rec(s, \"\");\n\t}\n\n\tpublic static inline function int(x:Float):Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt(x:String):Null<Int> {\n\t\tif(x != null) {\n\t\t\tfor(i in 0...x.length) {\n\t\t\t\tvar c = StringTools.fastCodeAt(x, i);\n\t\t\t\tif(c <= 8 || (c >= 14 && c != ' '.code && c != '-'.code)) {\n\t\t\t\t\tvar nc = StringTools.fastCodeAt(x, i + 1);\n\t\t\t\t\tvar v = js.Lib.parseInt(x, (nc == \"x\".code || nc == \"X\".code) ? 16 : 10);\n\t\t\t\t\treturn Math.isNaN(v) ? null : cast v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static inline function parseFloat(x:String):Float {\n\t\treturn js.Syntax.code(\"parseFloat({0})\", x);\n\t}\n\n\tpublic static function random(x:Int):Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random() * x);\n\t}\n\n\tstatic function __init__():Void\n\t\tuntyped {\n\t\t\t__feature__(\"js.Boot.getClass\", String.prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"String\"] = String, String));\n\t\t\t__feature__(\"js.Boot.isClass\", String.__name__ = __feature__(\"Type.getClassName\", \"String\", true));\n\t\t\t__feature__(\"Type.resolveClass\", $hxClasses[\"Array\"] = Array);\n\t\t\t__feature__(\"js.Boot.isClass\", Array.__name__ = __feature__(\"Type.getClassName\", \"Array\", true));\n\t\t\t__feature__(\"Date.*\", {\n\t\t\t\t__feature__(\"js.Boot.getClass\",\n\t\t\t\t\tjs.Syntax.code('Date').prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"Date\"] = js.Syntax.code('Date'), js.Syntax.code('Date')));\n\t\t\t\t__feature__(\"js.Boot.isClass\", js.Syntax.code('Date').__name__ = \"Date\");\n\t\t\t});\n\t\t\t__feature__(\"Int.*\", js.Syntax.code('var Int = { };'));\n\t\t\t__feature__(\"Dynamic.*\", js.Syntax.code('var Dynamic = { };'));\n\t\t\t__feature__(\"Float.*\", js.Syntax.code('var Float = Number'));\n\t\t\t__feature__(\"Bool.*\", js.Syntax.code('var Bool = Boolean'));\n\t\t\t__feature__(\"Class.*\", js.Syntax.code('var Class = { };'));\n\t\t\t__feature__(\"Enum.*\", js.Syntax.code('var Enum = { };'));\n\t\t\t#if (js_es < 5)\n\t\t\t__feature__(\"Array.map\", if (Array.prototype.map == null) Array.prototype.map = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length)\n\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t__feature__(\"Array.filter\", if (Array.prototype.filter == null) Array.prototype.filter = function(f) {\n\t\t\t\tvar a = [];\n\t\t\t\tfor (i in 0...__this__.length) {\n\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\tif (f(e))\n\t\t\t\t\t\ta.push(e);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t});\n\t\t\t#end\n\t\t}\n}\n","/*\n * Copyright (C)2005-2018 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\npackage haxe.iterators;\n\n/**\n\tThis iterator is used only when `Array<T>` is passed to `Iterable<T>`\n**/\nclass ArrayIterator<T> {\n\tfinal array:Array<T>;\n\tvar current:Int = 0;\n\n\t/**\n\t\tCreate a new `ArrayIterator`.\n\t**/\n\t#if !hl inline #end\n\tpublic function new(array:Array<T>) {\n\t\tthis.array = array;\n\t}\n\n\t/**\n\t\tSee `Iterator.hasNext`\n\t**/\n\t#if !hl inline #end\n\tpublic function hasNext() {\n\t\treturn current < array.length;\n\t}\n\n\t/**\n\t\tSee `Iterator.next`\n\t**/\n\t#if !hl inline #end\n\tpublic function next() {\n\t\treturn array[current++];\n\t}\n}\n"],
"names":[],
"mappings":"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"
}