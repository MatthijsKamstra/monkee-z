!function(h){"use strict";class s{constructor(){let o=this;window.document.addEventListener("DOMContentLoaded",function(e){h.console.info("[Monkee-Z] Route - version: 0.0.4"),o.setupRoute()})}setupRoute(){""==s.defaultTitle&&(s.defaultTitle=window.document.title,s.defaultUrl=window.window.location.href.split("#").join(""),s.previousLocationHref=s.defaultUrl,this.removeHash(),s.map.h[""]={link:null,url:s.defaultUrl,id:""});let n=[];var e=window.document.querySelector("[monkee-404]");null!=e&&n.push(e);var o=window.document.querySelectorAll("[monkee-hidden]");if(0<o.length){let e=0;for(var t=o.length;e<t;){var l=e++;n.push(o[l])}}var i=window.document.querySelectorAll("[monkee]");if(0<i.length){let e=0;for(var r=i.length;e<r;){var a=e++;n.push(i[a])}}let d=this,u=0;for(var c=n.length;u<c;){var w=u++;let e=n[w],o=-1==e.href.indexOf(".html")?e.href+".html":e.href;w=o.split("/")[o.split("/").length-1].split(".")[0];let t={link:e,url:o,id:w};Object.prototype.hasOwnProperty.call(s.map.h,w)||(s.map.h[w]=t),e.dataset.monkeeroute="🐵",e.onclick=function(e){e.preventDefault(),window.fetch(t.url).then(function(e){return e.text()}).then(function(e){d.replaceBody(t,e)})}}window.addEventListener("onLoadUpdate",function(e){d.setupRoute()},!0),window.onhashchange=function(e,o){if(null==o)return null;null==o.__id__&&(o.__id__=h.$haxeUID++);var t;null==e.hx__closures__?e.hx__closures__={}:t=e.hx__closures__[o.__id__];null==t&&(t=o.bind(e),e.hx__closures__[o.__id__]=t);return t}(this,this.locationHashChanged)}removeHash(){window.history.pushState("",window.document.title,window.window.location.pathname+window.window.location.search)}locationHashChanged(){var e=window.location.hash.split("#/").join("");console.log("src/MonkeeRoute.hx:123:",e);let t=this;if(Object.prototype.hasOwnProperty.call(s.map.h,e)){let o=s.map.h[e];o.url==s.defaultUrl?window.location.reload():window.fetch(o.url).then(function(e){return e.text()}).then(function(e){t.replaceBody(o,e)})}else if(-1==window.location.hash.indexOf("#/"))s.previousLocationHref==window.window.location.href&&window.location.reload();else if(Object.prototype.hasOwnProperty.call(s.map.h,"404")){let o=s.map.h[404];window.fetch(o.url).then(function(e){return e.text()}).then(function(e){t.replaceBody(o,e)})}else h.console.info("unknown - "+s.defaultUrl),window.window.location.href=s.defaultUrl,window.location.reload(),s.previousLocationHref=window.window.location.href}replaceBody(e,o){var t=s.defaultTitle+" : ";window.document.title=t+e.id,"404"!=e.id&&(window.location.hash="/"+e.id),s.previousLocationHref=s.defaultUrl;var n=Array.prototype.slice.call(window.document.body.children);window.document.body.innerHTML=o;let l=0;for(var i=n.length;l<i;){var r=n[l++];"script"==r.localName&&window.document.body.appendChild(r)}let a=this;window.setTimeout(function(){a.setupRoute()},50)}static main(){new s}}h.$haxeUID|=0,s.map=new class{constructor(){this.h=Object.create(null)}},s.defaultTitle="",s.defaultUrl="",s.previousLocationHref="",s.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);