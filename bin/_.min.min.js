!function(n){"use strict";function t(){return g.__string_rec(this,"")}var e,u=u||{};Math.__name__=!0;class _{static field(e,n){try{return e[n]}catch(e){return null}}static setProperty(e,n,t){let r,s;s=!!e.__properties__&&(r=e.__properties__["set_"+n],r),s?e[r](t):e[n]=t}static fields(n){let t=[];if(null!=n){let e=Object.prototype.hasOwnProperty;for(var r in n)"__id__"!=r&&"hx__closures__"!=r&&e.call(n,r)&&t.push(r)}return t}}_.__name__=!0;class r{constructor(){console.log("src/Research.hx:14:","Research"),this.sanitize()}sanitize(){var e="<image src=x onerror=alert('XSS_image')>";let n={numberVal:100,intVal:3,floatVal:4.4,stringVal:"hello",boolVal:!0,arrayVal:["one","two"],objVal:{}};JSON.stringify(n);console.log("src/Research.hx:41:","json.stringVal: "+n.stringVal),n.stringVal=e,console.log("src/Research.hx:43:","json.stringVal: "+n.stringVal);var t=h.sanitizeJson(n);console.log("src/Research.hx:45:","sanitized.stringVal: "+t.stringVal),n=h.sanitizeJson(n),console.log("src/Research.hx:47:","json.stringVal: "+n.stringVal),console.log("src/Research.hx:49:","json.boolVal: "+(null==n.boolVal?"null":""+n.boolVal)),n.boolVal=e,console.log("src/Research.hx:51:","json.boolVal: "+(null==n.boolVal?"null":""+n.boolVal)),n=h.sanitizeJson(n),console.log("src/Research.hx:53:","json.boolVal: "+(null==n.boolVal?"null":""+n.boolVal)),console.log("src/Research.hx:55:","json.arrayVal: "+o.string(n.arrayVal)),n.arrayVal.push(e),console.log("src/Research.hx:57:","json.arrayVal: "+o.string(n.arrayVal)),n=h.sanitizeJson(n),console.log("src/Research.hx:59:","json.arrayVal: "+o.string(n.arrayVal)),console.log("src/Research.hx:61:","json.objVal: "+o.string(n.objVal)),n.objVal.title=e,console.log("src/Research.hx:63:","json.objVal: "+o.string(n.objVal)),n=h.sanitizeJson(n),console.log("src/Research.hx:65:","json.objVal: "+o.string(n.objVal))}static main(){new r}}r.__name__=!0,Object.assign(r.prototype,{__class__:r});class o{static string(e){return g.__string_rec(e,"")}}o.__name__=!0;class s{static replace(e,n,t){return e.split(n).join(t)}}s.__name__=!0;var i=u.ValueType={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:t},TInt:{_hx_index:1,__enum__:"ValueType",toString:t},TFloat:{_hx_index:2,__enum__:"ValueType",toString:t},TBool:{_hx_index:3,__enum__:"ValueType",toString:t},TObject:{_hx_index:4,__enum__:"ValueType",toString:t},TFunction:{_hx_index:5,__enum__:"ValueType",toString:t},TClass:((e=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:t}}).__params__=["c"],e),TEnum:((e=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:t}}).__params__=["e"],e),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:t}};class c{static typeof(e){switch(typeof e){case"boolean":return i.TBool;case"function":return e.__name__||e.__ename__?i.TObject:i.TFunction;case"number":return Math.ceil(e)==e%2147483648?i.TInt:i.TFloat;case"object":if(null==e)return i.TNull;var n=e.__enum__;if(null!=n)return i.TEnum(u[n]);n=g.getClass(e);return null!=n?i.TClass(n):i.TObject;case"string":return i.TClass(String);case"undefined":return i.TNull;default:return i.TUnknown}}}c.__name__=!0;class l{constructor(e){this.current=0,this.array=e}hasNext(){return this.current<this.array.length}next(){return this.array[this.current++]}}l.__name__=!0,Object.assign(l.prototype,{__class__:l});class g{static getClass(e){if(null==e)return null;if(e instanceof Array)return Array;var n=e.__class__;if(null!=n)return n;e=g.__nativeClassName(e);return null!=e?g.__resolveNativeClass(e):null}static __string_rec(l,a){if(null==l)return"null";if(5<=a.length)return"<...>";let r=typeof l;switch("function"==r&&(l.__name__||l.__ename__)&&(r="object"),r){case"function":return"<function>";case"object":if(l.__enum__){var _=u[l.__enum__],o=_.__constructs__[l._hx_index];let s=_[o];return s.__params__?(a+="\t",o+"("+function(){let n=[];{let e=0;for(var t=s.__params__;e<t.length;){var r=t[e];e+=1,n.push(g.__string_rec(l[r],a))}}return n}().join(",")+")"):o}if(l instanceof Array){let e="[";a+="\t";let n=0;for(var s=l.length;n<s;){var i=n++;e+=(0<i?",":"")+g.__string_rec(l[i],a)}return e+="]",e}let e;try{e=l.toString}catch(e){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){o=l.toString();if("[object Object]"!=o)return o}let n="{\n";a+="\t";var c=null!=l.hasOwnProperty;let t=null;for(t in l)c&&!l.hasOwnProperty(t)||"prototype"!=t&&"__class__"!=t&&"__super__"!=t&&"__interfaces__"!=t&&"__properties__"!=t&&(2!=n.length&&(n+=", \n"),n+=a+t+" : "+g.__string_rec(l[t],a));return a=a.substring(1),n+="\n"+a+"}",n;case"string":return l;default:return String(l)}}static __nativeClassName(e){e=g.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e}static __resolveNativeClass(e){return n[e]}}g.__name__=!0;class h{static sanitizeJson(e){h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:18:","---\x3e sanitizeJson "+o.string(e)),h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:23:",e);let n=0;for(var t=_.fields(e);n<t.length;){var r=t[n];++n;var s=_.field(e,r);if(c.typeof(s),"number"==typeof s&&(0|s)===s||"number"==typeof s)h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:33:","numbers, don't do anything");else if("boolean"==typeof s)h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:36:","bool, don't do anything");else if("string"==typeof s)h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:39:","string, sanatize"),console.log("src/utils/Sanitize.hx:41:",e),_.setProperty(e,r,h.sanitizeHTML(s)),console.log("src/utils/Sanitize.hx:43:",e);else if(s instanceof Array){h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:47:","DO something clever with Array "+s);let e=s,n=0;for(var l=e.length;n<l;){var a=n++;c.typeof(e[a])!=i.TObject?e[a]=h.sanitizeHTML(e[a]):h.sanitizeJson(e)}}else h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:64:","DO something clever with OBject "+s),h.sanitizeJson(s)}return e}static sanitizeHTML(e){return s.replace(s.replace(s.replace(s.replace(s.replace(e,"&","&amp;"),"<","&lt;"),">","&gt;"),'"',"&quot;"),"'","&#39;")}}h.__name__=!0,String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,g.__toStr={}.toString,h.IS_DEBUG=!0,r.main()}(window);