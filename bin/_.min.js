!function(t){"use strict";function n(){return g.__string_rec(this,"")}var e,u=u||{};Math.__name__=!0;class i{static field(e,t){try{return e[t]}catch(e){return null}}static getProperty(t,n){let r;if(null==t)return null;{let e;return e=!!t.__properties__&&(r=t.__properties__["get_"+n],r),e?t[r]():t[n]}}static setProperty(e,t,n){let r,_;_=!!e.__properties__&&(r=e.__properties__["set_"+t],r),_?e[r](n):e[t]=n}static fields(t){let n=[];if(null!=t){let e=Object.prototype.hasOwnProperty;for(var r in t)"__id__"!=r&&"hx__closures__"!=r&&e.call(t,r)&&n.push(r)}return n}}i.__name__=!0;class r{constructor(){console.log("src/Research.hx:14:","Research"),this.sanitize()}sanitize(){var e="<image src=x onerror=alert('XSS_image')>";let t={numberVal:100,intVal:3,floatVal:4.4,stringVal:"hello",boolVal:!0,arrayVal:["one","two"],objVal:{}};JSON.stringify(t);t.stringVal=e;h.sanitizeJson(t);t=h.sanitizeJson(t),t.boolVal=e,t=h.sanitizeJson(t),t.arrayVal.push(e),t=h.sanitizeJson(t),t.objVal.title=e,t=h.sanitizeJson(t),t.newArrayVal=[],console.log("src/Research.hx:68:",i.getProperty(t,"newArrayVal")),t.newArrayVal.push({inject:e}),t=h.sanitizeJson(t),console.log("src/Research.hx:71:","json: "+l.string(t)),t.newArrayVal.push({inject:e}),console.log("src/Research.hx:73:",i.getProperty(t,"newArrayVal")[0].inject),console.log("src/Research.hx:74:","json: "+l.string(t)),t=h.sanitizeJson(t),console.log("src/Research.hx:76:",i.getProperty(t,"newArrayVal")[0].inject),console.log("src/Research.hx:78:","json: "+l.string(t))}static main(){new r}}r.__name__=!0,Object.assign(r.prototype,{__class__:r});class l{static string(e){return g.__string_rec(e,"")}}l.__name__=!0;class _{static replace(e,t,n){return e.split(t).join(n)}}_.__name__=!0;var o=u.ValueType={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:n},TInt:{_hx_index:1,__enum__:"ValueType",toString:n},TFloat:{_hx_index:2,__enum__:"ValueType",toString:n},TBool:{_hx_index:3,__enum__:"ValueType",toString:n},TObject:{_hx_index:4,__enum__:"ValueType",toString:n},TFunction:{_hx_index:5,__enum__:"ValueType",toString:n},TClass:((e=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:n}}).__params__=["c"],e),TEnum:((e=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:n}}).__params__=["e"],e),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:n}};class c{static typeof(e){switch(typeof e){case"boolean":return o.TBool;case"function":return e.__name__||e.__ename__?o.TObject:o.TFunction;case"number":return Math.ceil(e)==e%2147483648?o.TInt:o.TFloat;case"object":if(null==e)return o.TNull;var t=e.__enum__;if(null!=t)return o.TEnum(u[t]);t=g.getClass(e);return null!=t?o.TClass(t):o.TObject;case"string":return o.TClass(String);case"undefined":return o.TNull;default:return o.TUnknown}}}c.__name__=!0;class s{constructor(e){this.current=0,this.array=e}hasNext(){return this.current<this.array.length}next(){return this.array[this.current++]}}s.__name__=!0,Object.assign(s.prototype,{__class__:s});class g{static getClass(e){if(null==e)return null;if(e instanceof Array)return Array;var t=e.__class__;if(null!=t)return t;e=g.__nativeClassName(e);return null!=e?g.__resolveNativeClass(e):null}static __string_rec(s,a){if(null==s)return"null";if(5<=a.length)return"<...>";let r=typeof s;switch("function"==r&&(s.__name__||s.__ename__)&&(r="object"),r){case"function":return"<function>";case"object":if(s.__enum__){var i=u[s.__enum__],l=i.__constructs__[s._hx_index];let _=i[l];return _.__params__?(a+="\t",l+"("+function(){let t=[];{let e=0;for(var n=_.__params__;e<n.length;){var r=n[e];e+=1,t.push(g.__string_rec(s[r],a))}}return t}().join(",")+")"):l}if(s instanceof Array){let e="[";a+="\t";let t=0;for(var _=s.length;t<_;){var o=t++;e+=(0<o?",":"")+g.__string_rec(s[o],a)}return e+="]",e}let e;try{e=s.toString}catch(e){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){l=s.toString();if("[object Object]"!=l)return l}let t="{\n";a+="\t";var c=null!=s.hasOwnProperty;let n=null;for(n in s)c&&!s.hasOwnProperty(n)||"prototype"!=n&&"__class__"!=n&&"__super__"!=n&&"__interfaces__"!=n&&"__properties__"!=n&&(2!=t.length&&(t+=", \n"),t+=a+n+" : "+g.__string_rec(s[n],a));return a=a.substring(1),t+="\n"+a+"}",t;case"string":return s;default:return String(s)}}static __nativeClassName(e){e=g.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e}static __resolveNativeClass(e){return t[e]}}g.__name__=!0;class h{static sanitizeJson(e){h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:18:","---\x3e sanitizeJson "+l.string(e)),h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:23:",e);let t=0;for(var n=i.fields(e);t<n.length;){var r=n[t];++t;var _=i.field(e,r);if(c.typeof(_),"number"==typeof _&&(0|_)===_||"number"==typeof _)h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:33:","numbers, don't do anything");else if("boolean"==typeof _)h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:36:","bool, don't do anything");else if("string"==typeof _)h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:39:","string, sanatize"),h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:42:",e),i.setProperty(e,r,h.sanitizeHTML(_)),h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:45:",e);else if(_ instanceof Array){h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:49:","DO something clever with Array "+_);let e=_,t=0;for(var s=e.length;t<s;){var a=t++;c.typeof(e[a])!=o.TObject?e[a]=h.sanitizeHTML(e[a]):h.sanitizeJson(e[a])}}else h.IS_DEBUG&&console.log("src/utils/Sanitize.hx:73:","DO something clever with Object "+_),h.sanitizeJson(_)}return e}static sanitizeHTML(e){return-1!=e.indexOf("&amp;")&&_.replace(e,"&","&amp;"),_.replace(_.replace(_.replace(_.replace(e,"<","&lt;"),">","&gt;"),'"',"&quot;"),"'","&#39;")}}h.__name__=!0,String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,g.__toStr={}.toString,h.IS_DEBUG=!1,r.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);