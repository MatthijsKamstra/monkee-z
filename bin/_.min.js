!function(t){"use strict";function n(){return g.__string_rec(this,"")}var e,u=u||{};Math.__name__=!0;class a{static field(e,t){try{return e[t]}catch(e){return null}}static setProperty(e,t,n){let r,_;_=!!e.__properties__&&(r=e.__properties__["set_"+t],r),_?e[r](n):e[t]=n}static fields(t){let n=[];if(null!=t){let e=Object.prototype.hasOwnProperty;for(var r in t)"__id__"!=r&&"hx__closures__"!=r&&e.call(t,r)&&n.push(r)}return n}}a.__name__=!0;class r{constructor(){console.log("src/Research.hx:14:","Research"),this.sanitize()}sanitize(){let e={numberVal:100,intVal:3,floatVal:4.4,stringVal:"hello",boolVal:!0,objVal:{},arrayVal:["one","two"]};JSON.stringify(e),console.log("src/Research.hx:40:",e.stringVal),e.stringVal="<image src=x onerror=alert('XSS_image')>",console.log("src/Research.hx:42:",e.stringVal),console.log("src/Research.hx:44:",o.sanitizeJson(e).stringVal),e=o.sanitizeJson(e),console.log("src/Research.hx:46:",e.stringVal)}static main(){new r}}r.__name__=!0,Object.assign(r.prototype,{__class__:r});class _{static replace(e,t,n){return e.split(t).join(n)}}_.__name__=!0;var s=u.ValueType={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TNull:{_hx_index:0,__enum__:"ValueType",toString:n},TInt:{_hx_index:1,__enum__:"ValueType",toString:n},TFloat:{_hx_index:2,__enum__:"ValueType",toString:n},TBool:{_hx_index:3,__enum__:"ValueType",toString:n},TObject:{_hx_index:4,__enum__:"ValueType",toString:n},TFunction:{_hx_index:5,__enum__:"ValueType",toString:n},TClass:((e=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:n}}).__params__=["c"],e),TEnum:((e=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:n}}).__params__=["e"],e),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:n}};class l{static typeof(e){switch(typeof e){case"boolean":return s.TBool;case"function":return e.__name__||e.__ename__?s.TObject:s.TFunction;case"number":return Math.ceil(e)==e%2147483648?s.TInt:s.TFloat;case"object":if(null==e)return s.TNull;var t=e.__enum__;if(null!=t)return s.TEnum(u[t]);t=g.getClass(e);return null!=t?s.TClass(t):s.TObject;case"string":return s.TClass(String);case"undefined":return s.TNull;default:return s.TUnknown}}}l.__name__=!0;class i{constructor(e){this.current=0,this.array=e}hasNext(){return this.current<this.array.length}next(){return this.array[this.current++]}}i.__name__=!0,Object.assign(i.prototype,{__class__:i});class g{static getClass(e){if(null==e)return null;if(e instanceof Array)return Array;var t=e.__class__;if(null!=t)return t;e=g.__nativeClassName(e);return null!=e?g.__resolveNativeClass(e):null}static __string_rec(s,a){if(null==s)return"null";if(5<=a.length)return"<...>";let r=typeof s;switch("function"==r&&(s.__name__||s.__ename__)&&(r="object"),r){case"function":return"<function>";case"object":if(s.__enum__){var l=u[s.__enum__],i=l.__constructs__[s._hx_index];let _=l[i];return _.__params__?(a+="\t",i+"("+function(){let t=[];{let e=0;for(var n=_.__params__;e<n.length;){var r=n[e];e+=1,t.push(g.__string_rec(s[r],a))}}return t}().join(",")+")"):i}if(s instanceof Array){let e="[";a+="\t";let t=0;for(var _=s.length;t<_;){var o=t++;e+=(0<o?",":"")+g.__string_rec(s[o],a)}return e+="]",e}let e;try{e=s.toString}catch(e){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){i=s.toString();if("[object Object]"!=i)return i}let t="{\n";a+="\t";var c=null!=s.hasOwnProperty;let n=null;for(n in s)c&&!s.hasOwnProperty(n)||"prototype"!=n&&"__class__"!=n&&"__super__"!=n&&"__interfaces__"!=n&&"__properties__"!=n&&(2!=t.length&&(t+=", \n"),t+=a+n+" : "+g.__string_rec(s[n],a));return a=a.substring(1),t+="\n"+a+"}",t;case"string":return s;default:return String(s)}}static __nativeClassName(e){e=g.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e}static __resolveNativeClass(e){return t[e]}}g.__name__=!0;class o{static sanitizeJson(e){o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:18:","---\x3e sanitizeJson");var t=JSON.parse(JSON.stringify(e));o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:22:",t);let n=0;for(var r=a.fields(t);n<r.length;){var _=r[n];++n;var s=a.field(t,_);l.typeof(s),"number"==typeof s&&(0|s)===s||"number"==typeof s?o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:32:","numbers, don't do anything"):"boolean"==typeof s?o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:35:","bool, don't do anything"):"string"==typeof s?(o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:38:","string, sanatize"),a.setProperty(t,_,o.sanitizeHTML(s))):s instanceof Array?o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:46:","DO something clever with Array "+s):o.IS_DEBUG&&console.log("src/utils/Sanitize.hx:49:","DO something clever with OBject "+s)}return t}static sanitizeHTML(e){return _.replace(_.replace(_.replace(_.replace(_.replace(e,"&","&amp;"),"<","&lt;"),">","&gt;"),'"',"&quot;"),"'","&#39;")}}o.__name__=!0,String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,g.__toStr={}.toString,o.IS_DEBUG=!0,r.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);